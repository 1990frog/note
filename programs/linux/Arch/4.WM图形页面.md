[TOC]

# 其他软件
+ picom（透明）
+ compton
+ feh（背景）

# dwm 安装
压缩包
+ [dwm](https://dl.suckless.org/dwm/dwm-6.2.tar.gz)
+ [st](https://dl.suckless.org/st/st-0.8.4.tar.gz)
+ [dmenu](https://dl.suckless.org/tools/dmenu-5.0.tar.gz)
+ [slock](https://dl.suckless.org/tools/slock-1.4.tar.gz)

git版本
+ git://git.suckless.org/dwm
+ git://git.suckless.org/st
+ git://git.suckless.org/dmenu

安装
```
> tar zxvf xxx.tar.gz
> cd 目录
> make
> make clean install
```

# 补丁
+ dwm-fixborders-6.2.diff（dmenu透明）
+ dwm-alpha-20201019-61bb8b2.diff（dmenu透明）
+ st-alpha-0.8.2.diff（st透明）
+ dwm-scratchpad-6.2.diff（浮动临时窗口）
+ dwm-autostart-20210120-cb3f58a.diff（添加自动启动程序）
+ dwm-awesomebar-20200907-6.2.diff（dmenu多tab）
+ vanitygaps（增加窗口空隙）
+ alphasystray（透明的系统托盘）

## 打补丁
```
> patch < xx.diff
```
部分补丁需要安装rej文件修改
提示hunk..failed等信息。你需要手动修改
## 移除补丁
```
> patch -R > xx.diff
```

# 其他软件

较为美观的状态栏
dwmbar

程序启动器
dmenu
rofi

终端模拟器
st(simple terminal)
alacritty(带有gpu加速的现代化终端)
kitty(支持英语连字的终端)

# .xinitrc 文件
```
export GTK_IM_MODULE=fcitx5
export QT_IM_MODULE=fcitx5
export XMODIFIERS="@im=fcitx5"

export LANG="zh_CN.UTF-8"
export LC_CTYPE="zh_CN.UTF-8"

fcitx5 &
xrandr --output DisplayPort-2 --mode 3840x2160 --rate 60
feh --recursive --randomize --bg-fill ~/Pictures/wallhaven-zxpx6y.png &
picom -b &
exec dwm
```

vim .xinitrc
startx


# sddm
```
> vim /usr/share/xsessions/dwm.desktop

[Desktop Entry]
Name=dwm
Comment=Dynmic Window Manager
Exec=/usr/local/bin/dwm
TryExec=/usr/local/bin/dwm
Icon=/home/cai/Code/dwm/dwm.png
Type=Application
```


extra/adobe-source-code-pro-fonts
Source Code Pro

git status


# st 样式
st-dracula-0.8.2.diff


st-fontfix.diff 表情字体

st-dwsktopentry

st-hidecursor 鼠标挡住输入，隐藏鼠标



# st emoji 支持
yay -S libxft-bgra


----


st尝试
# 光标随字符变色
patch < st-blinking_cursor-20200531-a2a7044.diff 
# 透明
st-alpha-0.8.2.diff
# 吸血鬼样式
st-dracula-0.8.2.diff


顺序
吸血鬼样式
透明


字体更换
Source Code Pro


使用dmenu
Dmenu是dwm的一个有用的扩展。它不是一个单独的列表式菜单，而是生成一个可执行文件的列表并根据输入进行自动补全。比起许多程序启动器，它能与dwm更好地整合。

可以按 Mod1 + P 来启动Dmenu（Mod1 缺省是 Alt ）。当然你也可以按自己的喜好改变它。然后只需要在上边出现的工具条中输入你想运行的程序的前几个字母，也可以按左右箭头在进行选择，按回车键完成。

更详细的信息请查阅 dmenu.

控制窗口
将窗口移动到另一个tag
将当前的活动窗口移到其他的标签页：Shift + Mod1 + x, 其中的x是其他的标签页的序号，如果x是5，则表示将当前的活动窗口移到第5号标签页上去。Mod1 缺省是 Alt 键，这个键值可以在config.h中定义。

关闭窗口
关闭当前的活动窗口： Shift + Mod1 + C.

窗口布局
dwm缺省工作在平铺模式。当新窗口不断出现在同一个标签页时，窗口会越来越小。所有窗口会占满整个屏幕（除了目录条）。然而还有其他两种模式：浮动和单页模式。浮动模式对非平铺窗口管理器用户来说更熟悉，它允许用户重新按自己需要摆放窗口。单页模式会让一个窗口在最上边。

要切换到浮动模式，只需要按Mod1 + F。Mod1缺省是 Alt。如果你看到标签页右上角有X>这样的标志，就进行了浮动模式。

切换到单页模式，按 Mod1 + M。检查上否在单页模式，你会看到[M]标志（如果当前标签页无窗口），或者[n]（n是打开窗口的编号）。

回来平铺模式，按Mod1 + T，你会看到 []= 这样的标志。

退出dwm
退出dwm（登出）： Shift + Mod1 + Q.

官方关于默认的快捷键的说明: dwm tutorial.

再次说明，快捷键可以根据自己的喜好自由定义，本维基中的快捷键都是指官方默认的快捷键。

扩展使用


解决Java程序不正常的问题
对于使用JRE 6u20的Java程序在dwm中可能表现异常，因为dwm不是Java的一个已知的窗口管理器，这会导致一些像鼠标释放使菜单消失之类的小问题。可以先安装里的 [community] 里的wmname：

# pacman -S wmname
然后你只需要用wmname来设置一个Java能识别的WM名称：

$ wmname LG3D
这不是永久的，所以你可以把它写进.xinitrc。

---

3.1 常用软件的推荐：

用半角逗号分隔的同类别软件顺序表示推荐等级

终端：kitty, alacritty, termite（前两个有GPU加速）
护眼：redshift-gtk
程序启动器：dmenu, rofi
Shell：fish, zsh
壁纸设置器：feh, nitrogen
音乐播放器：mpd&ncmpcpp（基于终端）, deadbeaf-git
特效合成器：picom-jonaburg-git, picom
文件管理器：thunar, nemo
电源管理器：xfce4-power-manager
截图工具：flameshot, scrot
主题设置器：lxappearance&qt5ct&xsettingsd
输入法：fcitx5
科学上网工具：qv2ray
剪切板管理器：copyq
云同步工具：nutstore（坚果云）, dropbox
通知管理器：dunst
锁屏管理器：betterlockscreen, xautolock（用于自动锁屏）
pdf 阅读器：zathura（vim风格）, atril（没有gnome依赖的evince）
文本编辑器：nvim, doom emacs(可选)，(vs)code
屏幕亮度调节器：light


3.2 关于平铺还是浮动

个人建议多数窗口平铺，以下窗口默认浮动：

virtualbox, lxappearance, qq, gpick, qalculator, slickpicker

3.3 关于GTK主题和QT主题

我建议让QT程序使用GTK主题，除上文提到的qt5ct再安装qt5-styleplugins

在qt5ct中设置风格为gtk2


patch < dwm*.diff

---

Alt + shift + Enter     # 打开新窗口
Alt + shift + C         # 关闭当前窗口
Alt + D                 # 窗口横向排列
Alt + I                 # 窗口竖向排列
Alt + Enter             # 窗口位置互换
Alt + num               # 切换标签页
Alt + shift + num       # 移动窗口至某标签页
Alt + T                 # 平铺模式（tiling)
Alt + M                 # 单窗口模式
Alt + F                 # 浮动模式（float)
# 在窗口间切换
Alt + J
Alt + K
# 改变窗口的长度/比例
Alt + H
Alt + L
# 窗口模式切换
Alt + Space
Alt + shift + Space

在主副屏之间移动焦点
Mod + <                 # 移动焦点至左边屏幕
Mod + >                 # 移动焦点至右边屏幕
在主副屏之间移动窗口
Mod + shift + <         # 移动窗口至左边屏幕
Mod + shift + >         # 移动窗口至右边屏幕

缩放窗口
Mod + 鼠标右键
