[TOC]

# 缓存的受益与成本


![](https://gitee.com/caijingquan/imagebed/raw/master/1602320428_20200408142055231_534882915.png)

![](https://gitee.com/caijingquan/imagebed/raw/master/1602320429_20200408142152375_635648950.png)

![](https://gitee.com/caijingquan/imagebed/raw/master/1602320430_20200408142326231_111358603.png)

# 缓存更新策略
最大内存对应的策略
![](https://gitee.com/caijingquan/imagebed/raw/master/1602320431_20200408142526007_2020393940.png)

![](https://gitee.com/caijingquan/imagebed/raw/master/1602320431_20200408142542671_26033258.png)

![](https://gitee.com/caijingquan/imagebed/raw/master/1602320431_20200408142622575_239700563.png)

# 缓存粒度控制
![](https://gitee.com/caijingquan/imagebed/raw/master/1602320432_20200408142845543_1740610328.png)

![](https://gitee.com/caijingquan/imagebed/raw/master/1602320433_20200408142921047_2061908010.png)

# 缓存穿透问题：大量请求不命中
缓存的意义之一：保护存储层

![](https://gitee.com/caijingquan/imagebed/raw/master/1602320434_20200408143603208_19138199.png)

![](https://gitee.com/caijingquan/imagebed/raw/master/1602320434_20200408143855528_880671876.png)

# 缓存雪崩
![](https://gitee.com/caijingquan/imagebed/raw/master/1602320435_20200408154752540_1530808038.png)

不一定是db也可能是api

![](https://gitee.com/caijingquan/imagebed/raw/master/1602320435_20200408155107355_1765803668.png)

# 无底洞
![](https://gitee.com/caijingquan/imagebed/raw/master/1602320436_20200408155718524_488702207.png)

# 热点key重建优化
![](https://gitee.com/caijingquan/imagebed/raw/master/1602320437_20200408165935344_1723326181.png)

