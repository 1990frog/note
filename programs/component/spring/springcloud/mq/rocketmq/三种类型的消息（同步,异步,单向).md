[TOC]

# 概览
使用RocketMQ发送三种类型的消息：同步消息、异步消息和单向消息。其中前两种消息是可靠的，因为会有发送是否成功的应答


# 同步发送sync
发送消息采用同步模式，这种方式只有在消息完全发送完成之后才返回结果，此方式存在需要同步等待发送结果的时间代价。

# 异步发送async
发送消息采用异步发送模式，消息发送后立刻返回，当消息完全完成发送后，会调用回调函数`sendCallback`来告知发送者本次发送是成功或者失败。异步模式通常用于响应时间敏感业务场景，即承受不了同步发送消息时等待返回的耗时代价。

# 直接发送one-way
采用one-way发送模式发送消息的时候，发送端发送完消息后会立即返回，不会等待来自broker的ack来告知本次消息发送是否完全完成发送。这种方式吞吐量很大，但是存在消息丢失的风险，所以其适用于不重要的消息发送，比如日志收集。

# 总结
在实际使用场景中，利用何种发送方式，可以总结如下：
+ 当发送的消息不重要时，采用one-way方式，以提高吞吐量；
+ 当发送的消息很重要是，且对响应时间不敏感的时候采用sync方式;
+ 当发送的消息很重要，且对响应时间非常敏感的时候采用async方式；