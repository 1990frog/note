[[TOC]]

# 简介
+ 所有的shell命令都使用退出状态码来告知shell它已执行完毕
+ 退出状态码是一个0～255的整数值
+ Linux提供了一个$?来捕获退出状态码的值

# Linux退出状态码
| 状态码 | 含义                       |
| ------ | -------------------------- |
| 0      | 命令成功结束               |
| 1      | 一般性未知错误             |
| 2      | 不适合的shell命令          |
| 126    | 命令不可执行               |
| 127    | 没找到命令                 |
| 128    | 无效的退出参数             |
| 128+x  | 与Linux信号x相关的严重错误 |
| 130    | 通过Ctrl+C终止的命令       |
| 255    | 正常范围之外的退出码       |

着重记忆
0与非0，执行成功与不成功


命令行测试
```
> ls
...
> echo $?
0
> haha
zsh: command not found: hah
> echo $?
127
```

脚本测试
```
#!/bin/bash

date
if [$? -eq 0]; then
    echo "success"
else
    echo "failed"
fi
```

# 改变退出状态码的exit命令
+ 退出状态码是以上一条指令的返回结果为准
+ exit $exit_code

exit直接退出脚本，后面可接指定状态码