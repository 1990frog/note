[TOC]

+ Spring Security：基于 Spring实现的 Web系统的认证和权限模块
+ OAuth2：一个关于授权（authorization）的开放网络标准
+ 单点登录 (SSO)：在多个应用系统中，用户只需要登录一次就可以访问所有相互信任的应用系统
+ JWT：在网络应用间传递信息的一种基于 JSON的开放标准（(RFC 7519)，用于作为JSON对象在不同系统之间进行安全地信息传输。主要使用场景一般是用来在 身份提供者和服务提供者间传递被认证的用户身份信息

# OAuth2与CAS
CAS的单点登录时保障客户端的用户资源的安全

oauth2则是保障服务端的用户资源的安全

 

CAS客户端要获取的最终信息是，这个用户到底有没有权限访问我（CAS客户端）的资源。

oauth2获取的最终信息是，我（oauth2服务提供方）的用户的资源到底能不能让你（oauth2的客户端）访问

 

CAS的单点登录，资源都在客户端这边，不在CAS的服务器那一方。

用户在给CAS服务端提供了用户名密码后，作为CAS客户端并不知道这件事。

随便给客户端个ST，那么客户端是不能确定这个ST是用户伪造还是真的有效，所以要拿着这个ST去服务端再问一下，这个用户给我的是有效的ST还是无效的ST，是有效的我才能让这个用户访问。

 

oauth2认证，资源都在oauth2服务提供者那一方，客户端是想索取用户的资源。

所以在最安全的模式下，用户授权之后，服务端并不能直接返回token，通过重定向送给客户端，因为这个token有可能被黑客截获，如果黑客截获了这个token，那用户的资源也就暴露在这个黑客之下了。

于是聪明的服务端发送了一个认证code给客户端（通过重定向），客户端在后台，通过https的方式，用这个code，以及另一串客户端和服务端预先商量好的密码，才能获取到token和刷新token，这个过程是非常安全的。

如果黑客截获了code，他没有那串预先商量好的密码，他也是无法获取token的。这样oauth2就能保证请求资源这件事，是用户同意的，客户端也是被认可的，可以放心的把资源发给这个客户端了。

 

所以cas登录和oauth2在流程上的最大区别就是，通过ST或者code去认证的时候，需不需要预先商量好的密码。 



---

# OAuth令牌类型
+ 授权码
+ 刷新令牌
+ 访问令牌
+ PoP
+ Bearer Token