

# 重入
当某个n线程请求一个由其他线程持有的锁时，发出请求的线程就会阻塞。然后，由于内置锁时可重入的，因此如果某个线程试图获得一个已经由它自己持有的锁，那么这个请求就会n成功。“重入”意味着获取锁的操作的粒度是“线程”，而不是“调用”。

重入的一种实现方法是，为某个锁关联一个获取计数值和一个所有者的线程。当计数值为0时，这个锁就被认为是没有被任何线程持有。当线程请求一个未被持有的锁时，JVM将记下锁的持有者，并且将获取计数值置为1。如果同一个线程再次获取这个锁，计数值将递减，而当线程退出同步代码块时，计数器会相应地a递减。当计数值为0时，这个锁将被释放。