
二维线段树
动态线段树

区间操作的另外一个重要数据结构
树状数组 BIT (Binary Index Tree)


区间相关的问题：
RMQ

---


```
(1)
                             [0,15]
                               0
               ┌───────────────┴───────────────┐
             [0,7]                           [8,15]
               0                               3
       ┌───────┴───────┐               ┌───────┴───────┐
     [0,3]           [4,7]           [8,11]
       0               1               3
   ┌───┴───┐       ┌───┴───┐       ┌───┴───┐       ┌───┴───┐
 [0,1]   [2,3]   [4,5]   [6,7]   [8,9]
   0       2       3       1       3
 ┌─┴─┐   ┌─┴─┐   ┌─┴─┐   ┌─┴─┐   ┌─┴─┐   ┌─┴─┐   ┌─┴─┐   ┌─┴─┐
 0   5   2   5   4   3   1   6   3
 ┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───
 0   1   2   3   4   5   6   7   8   9   0   1   2   3   4   5

```
# 概览
线段树（segment tree)、区间树(interval tree)

# 用途
对于给定区间
更新：更新区间中一个元素或者一个区间的值
查询一个区间[i,j]的最大值，最小值，或者区间数字和


线段树不一定是完全二叉树
线段树也不一定是满二叉树
线段树是平衡二叉树
堆也是平衡二叉树


满二叉树
h层，一共有2^n-1个节点（大约是2^h)
最后一层（h-1层），有2^(h-1)个节点
最后一层的节点数大致等于前面所有层节点之和


如果区间有n个元素，数组表示需要有多少节点？
如果 n=2^k 需要2n个空间
如果 n=2^k+1 需要4n个空间
（不是完全二叉树，最后2层可能都是叶子节点）


我们的线段树不考虑添加元素，即区间固定，使用4n的静态空间即可